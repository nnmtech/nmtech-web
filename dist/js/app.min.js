(()=>{"use strict";const f=document.getElementById("prospectForm"),s=document.getElementById("status"),b=f.querySelector("button"),hp=f.querySelector(".honeypot");f.addEventListener("submit",async e=>{e.preventDefault();if(hp&&hp.value)return s.textContent="Please try again",void 0;const fd=new FormData(f),data={company:fd.get("company"),name:fd.get("name"),email:fd.get("email"),phone:fd.get("phone"),size:fd.get("size")};if(!data.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email))return s.textContent="Valid email required",void 0;b.disabled=!0,b.textContent="Sending...",b.setAttribute("aria-busy","true");try{const r=await fetch("/.netlify/functions/prospects",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(data)});if(!r.ok)throw new Error(await r.text());s.textContent="âœ… Assessment scheduled!",f.reset()}catch(e){console.error(e),s.textContent="Please call (404) 555-1234"}finally{b.disabled=!1,b.textContent="Free IT Assessment",b.removeAttribute("aria-busy"),setTimeout(()=>s.textContent="",4e3)}}),document.addEventListener("DOMContentLoaded",()=>{console.log("NMTech MSP - production script loaded")})})();
